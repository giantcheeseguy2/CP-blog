<html>
	
    <head>
	    <link rel="stylesheet" href="./mathscribe/jqmath-0.4.3.css">	
        <link rel="stylesheet" href="./css/navbar.css">	
        <link rel="stylesheet" href="./css/searchbar.css">
        <link rel="stylesheet" href="./css/results.css">
	    <script src="./mathscribe/jquery-1.4.3.min.js"></script>
	    <script src="./mathscribe/jqmath-etc-0.4.6.min.js" charset="utf-8"></script>
        <title>Oursaco Blog | Home</title>
    </head>
    
    <body style="margin:0;" onload="filterDropdown()">
        <div class="navbar">
            <img src="./images/logo.jpg" class="logo">
            <div class="title"><b>Oursaco</b> Blog</div>
            <button class="current" onclick="window.location.href='./index.html'"><a href="./index.html">Home</a></button>
            <button class="button" onclick="window.location.href='./about.html'"><a href="./about.html">About</a></button> 
            <button class="button" onclick="window.location.href='./links.html'"><a href="./links.html">Links</a></button>
        </div>
        <div style="width:100%;height:15%;"></div>
        <div class="searchbar">
            <h1 class="text">Search For Posts</h1>
            <input class="bar" type="text" id="searchBar" onkeyup="updateResults()" placeholder="Search..">
        </div>
        <div style="display:flex; justify-content:center; width:100%; min-width:800px;">
            <div class="tagbar">
                <div class="container">
                    <button onclick="toggle('addDropdown')" class="addButton">Add Tag</button>
                    <div id="addDropdown" class="bar">
                        <input type="text" placeholder="Search..." id="addInput" onkeyup="filterDropdown()" class="tagSearch">
                        <button class="tagButton" id="Test0" onclick="toggleTag('Test')">+ Test</button>
                    </div>
                </div>
                <div class="container">
                    <button onclick="toggle('removeDropdown')" class="removeButton">Remove Tag</button>
                    <div id="removeDropdown" class="bar">
                        <input type="text" placeholder="Search..." id="removeInput" onkeyup="filterDropdown()" class="tagSearch">
                        <button class="tagButton" id="Test1" onclick="toggleTag('Test')"># Test</button>
                    </div>
                </div>
            </div>
            <div class="results" id="blogs">
            </div>
        </div>
    </body>
    <script>

        function toggleTag(id){
            var id0 = document.getElementById(id + '0');
            var id1 = document.getElementById(id + '1');
            if(id0.textContent.charAt(0) == '#') id0.textContent = '+' + id0.textContent.substring(1);
            else id0.textContent = '#' + id0.textContent.substring(1);
            if(id1.textContent.charAt(0) == '#') id1.textContent = '-' + id1.textContent.substring(1);
            else id1.textContent = '#' + id1.textContent.substring(1);
            filterDropdown();
        }

        function updateResults(){
            var filter = document.getElementById("searchBar").value.toLowerCase();
            var list = document.getElementById("blogs").getElementsByClassName("blog");
            
        }

        function filterDropdown(){
            var list, filter;
            filter = document.getElementById("addInput").value.toLowerCase();
            list = document.getElementById("addDropdown").getElementsByTagName("button");
            for(let i = 0; i < list.length; i++){
                let str = list[i].textContent;
                if(str.charAt(0) != '+'){
                    list[i].style.display = "none";
                    continue;
                }
                if (str.toLowerCase().indexOf(filter) != -1) {
                    list[i].style.display = "block";
                } else {
                    list[i].style.display = "none";
                }
            }
            filter = document.getElementById("removeInput").value.toLowerCase();
            list = document.getElementById("removeDropdown").getElementsByTagName("button");
            for(let i = 0; i < list.length; i++){
                let str = list[i].textContent;
                if(str.charAt(0) != '-'){
                    list[i].style.display = "none";
                    continue;
                }
                if (str.toLowerCase().indexOf(filter) != -1) {
                    list[i].style.display = "block";
                } else {
                    list[i].style.display = "none";
                }
            }
            updateResults();
        }

        function toggle(name){
            console.log("hi");
            var x = document.getElementById(name);
            if(x.style.display == "none") x.style.display = "block";
            else x.style.display = "none";
        }
    </script>
</html>